<!DOCTYPE html>
<html>

  <link href="style.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="https://unpkg.com/@auroratide/typewritten-text/lib/style.css" />
  <script type="module" src="https://unpkg.com/@auroratide/typewritten-text/lib/define.js"></script>
  <script>
    //document.querySelectorAll('typewritten-text').forEach(elem => {
    //  elem.addEventListener('typewritten-typewritten-text:nextchar', () => {
    //    var divPop = document.getElementById('divPop');
    //    if (divPop.style.display === "none") {
    //      divPop.style.display = "block";
    //    } else {
    //      divPop.style.display = "none";
    //    }
    //  })
    //})

    // https://stackoverflow.com/a/442474
    function getOffset( el ) {
      var _x = 0;
      var _y = 0;
      while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {
        _x += el.offsetLeft - el.scrollLeft;
        _y += el.offsetTop - el.scrollTop;
        el = el.offsetParent;
      }
      console.log(_x, _y);
      return { top: _y, left: _x };
    }

    function talkTick() {
      var divPop = document.getElementById('divPop');
      if (divPop.style.display === "none") {
        divPop.style.display = "block";
      } else {
        divPop.style.display = "none";
      }
    }

    function heartToButton30(id) {
      div30 = document.getElementById('div30');
      soul = document.getElementById('div30Soul');
      target = document.getElementById(id.id);
      soul.style.top = getOffset( id ).top-getOffset( div30 ).top+10+"px";
    }

    function heartToButton70(id) {
      div70 = document.getElementById('div70');
      soul = document.getElementById('div70Soul');
      target = document.getElementById(id.id);
      soul.style.top = getOffset( id ).top-getOffset( div70 ).top+10+"px";
    }

    function heartToButton30(id) {
      div30 = document.getElementById('div30');
      soul = document.getElementById('div30Soul');
      target = document.getElementById(id.id);
      soul.style.top = getOffset( id ).top-getOffset( div30 ).top+10+"px";
    }

    function heartToButton70(id) {
      div70 = document.getElementById('div70');
      soul = document.getElementById('div70Soul');
      target = document.getElementById(id.id);
      soul.style.top = getOffset( id ).top-getOffset( div70 ).top+10+"px";
    }

    function firstOpen() {
      var dia1 = document.getElementById('firstDialogue1');
      var dia2 = document.getElementById('firstDialogue2');
      var wait = dia1.length * 50 + 200;
      var music = document.getElementById('music');
      music.volume = 0.1;
      music.play();
      dia1.paused = false;
      setTimeout(() => dia2.paused = false, wait);
    }

    function progressDialogue(show, hide) {
      var toShow = document.getElementById(show);
      var toHide = document.getElementById(hide);
      toShow.style.display = "block";
      toHide.style.display = "none";
    }
    function div30Menu(show1, show2, hide1, hide2, div70Text) {
      soul30 = document.getElementById('div30Soul');
      soul70 = document.getElementById('div70Soul');
      soul30 = document.getElementById('div30Soul');
      soul70 = document.getElementById('div70Soul');
      var toShow1 = document.getElementById(show1);
      var toShow2 = document.getElementById(show2);
      var toHide1 = document.getElementById(hide1);
      var toHide2 = document.getElementById(hide2);
      var runDiv70Text = document.getElementById(div70Text);
      toShow1.style.display = "block";
      toShow2.style.display = "block";
      toHide1.style.display = "none";
      toHide2.style.display = "none";
      soul30.style.display = "block";
      soul70.style.display = "none";
      soul30.style.display = "block";
      soul70.style.display = "none";
      runDiv70Text.reset();
      runDiv70Text.paused = false;
    }
    function div70Menu(show1, show2, hide1, hide2, div30Text) {
      soul30 = document.getElementById('div30Soul');
      soul70 = document.getElementById('div70Soul');
      soul30 = document.getElementById('div30Soul');
      soul70 = document.getElementById('div70Soul');
      var toShow1 = document.getElementById(show1);
      var toShow2 = document.getElementById(show2);
      var toHide1 = document.getElementById(hide1);
      var toHide2 = document.getElementById(hide2);
      var runDiv30Text = document.getElementById(div30Text);
      toShow1.style.display = "block";
      toShow2.style.display = "block";
      toHide1.style.display = "none";
      toHide2.style.display = "none";
      soul30.style.display = "none";
      soul70.style.display = "block";
      soul30.style.display = "none";
      soul70.style.display = "block";
      runDiv30Text.reset();
      runDiv30Text.paused = false;
    }
    function activeDiv100(dialogue) {
      var div30 = document.getElementById('div30');
      var div70 = document.getElementById('div70');
      var div100 = document.getElementById('div100');
      var dialogue = document.getElementById(dialogue);
      div30.style.display = "none";
      div70.style.display = "none";
      div100.style.display = "block";
      dialogue.reset();
      dialogue.paused = false;
    }
    function unactiveDiv100() {
      var div30 = document.getElementById('div30');
      var div70 = document.getElementById('div70');
      var div100 = document.getElementById('div100');
      div30.style.display = "block";
      div70.style.display = "block";
      div100.style.display = "none";
    }
  </script>

  <!-- Discord embed -->
  <meta content="RedRain0o0's Website | Commissions" property="og:title" />
  <meta content="This is my cool website laugh out loud" property="og:description" />
  <meta content="https://redrain0o0.github.io/" property="og:url" />
  <meta content="https://storage.ko-fi.com/cdn/useruploads/3ca6214a-de0e-434a-899f-fa7e8570f99d.png" property="og:image" />
  <meta content="#ff4d4d" data-react-helmet="true" name="theme-color" />

  <head>
    <title>
      RedRain0o0 | Commissions
    </title>
    <link rel="icon" type="image/png" href="assets/sprites/soul.png">
  </head>

  <body onload="firstOpen()">
    <audio id="music" loop>
      <source src="assets/sounds/mus_shop.ogg" type="audio/ogg">
    </audio>
    <feature>
      <div id="shopFace">
	<div id="redrain0o0">
          <img class="faceSprite" id="temmieidle" src="assets/sprites/shop/temmieidle.png">
          <img class="faceSprite" id="temmiebox" src="assets/sprites/shop/temmiebox.png">
        </div>
      </div>
      <div id="div100" style="display: none;">
        <div class="dialogue" id="sellDialogue1">
	  <p class="dialogueText" onclick="progressDialogue('sellDialogue2', 'sellDialogue1')"><typewritten-text nextchar="talkTick()" id="sellDialogueT1" letter-interval="50" paused>*¾sorz, u cant sell here</typewritten-text></p>
        </div>
        <div class="dialogue" id="sellDialogue2">
	  <p class="dialogueText" onclick="unactiveDiv100()"><typewritten-text nextchar="talkTick()" id="sellDialogueT1" letter-interval="50" paused>*¾mab anoder store will buy from u!</typewritten-text></p>
        </div>
      </div>
      <div id="divPop" style="top: 50%;">
      </div>
      <div id="div70" style="display: block;">
        <div class="dialogue" id="firstDialogue" style="display: block;">
	  <p class="dialogueText"><typewritten-text nextchar="talkTick()" id="firstDialogue1" letter-interval="50" paused>*¾hOI!</typewritten-text></p>
          <p class="dialogueText"><typewritten-text nextchar="talkTick()" id="firstDialogue2" letter-interval="50" paused>*¾dis shop is undr construction, pls come back l8r</typewritten-text></p>
        </div>
        <div class="dialogue" id="rootDialogue" style="display: none;">
	  <p class="dialogueText"><typewritten-text nextchar="talkTick()" id="rootDialogue1" letter-interval="50" paused>*¾u shouldnt b here</typewritten-text></p>
        </div>
        <div class="interaction" id="talkMenu1" style="display: none;">
          <button onmouseover="heartToButton70(this)" id="convo1" class="interactionOption">Convo 1</button>
          <br>
          <button onmouseover="heartToButton70(this)" id="convo2" class="interactionOption">Convo 2</button>
          <br>
          <button onmouseover="heartToButton70(this)" id="convo3" class="interactionOption">Convo 3</button>
          <br>
          <button onmouseover="heartToButton70(this)" id="backToRoot" class="interactionOption" onclick="div30Menu('rootDialogue', 'rootMenu', 'talkMenu1', 'talkDialogue', 'rootDialogue1')">Back</button>
        </div>
        <div class="interaction" id="exitMenu1" style="display: none;">
          <button onmouseover="heartToButton70(this)" onclick="location.href='https://redrain0o0.github.io/'" id="home" class="interactionOption">Home</button>
          <br>
          <button onmouseover="heartToButton70(this)" onclick="location.href='https://redrain0o0.github.io/RedRain0o0'" id="redrain0o0Page" class="interactionOption">RedRain0o0</button>
          <br>
          <button onmouseover="heartToButton70(this)" onclick="location.href='https://redrain0o0.github.io/projects'" id="projects" class="interactionOption">Projects</button>
          <br>
          <button onmouseover="heartToButton70(this)" id="nextExitMenu" class="interactionOption" onclick="progressDialogue('exitMenu2', 'exitMenu1')">Next</button>
        </div>
        <div class="interaction" id="exitMenu2" style="display: none;">
          <button onmouseover="heartToButton70(this)" onclick="location.href='https://redrain0o0.github.io/the-gallery'" id="gallery" class="interactionOption">Gallery</button>
          <br>
          <button onmouseover="heartToButton70(this)" onclick="location.href='https://redrain0o0.github.io/'" id="discord" class="interactionOption">Discord</button>
          <br>
          <button onmouseover="heartToButton70(this)" onclick="location.href='https://ko-fi.com/redrain0o0/'" id="ko-fi" class="interactionOption">Ko-Fi</button>
          <br>
          <button onmouseover="heartToButton70(this)" id="backToRoot" class="interactionOption" onclick="div30Menu('rootDialogue', 'rootMenu', 'exitMenu2', 'exitDialogue', 'rootDialogue1')">Back</button>
        </div>
        <img class="soul" id="div70Soul" src="assets/sprites/soul.png" style="display: none;">
      </div>
      <div id="div30" style="display: block;">
        <div class="interaction" id="firstMenu" style="display: block;">
          <!--style="position: absolute; left: 10px; top: 20px;"-->
          <button onmouseover="heartToButton30(this)" onmouseover="heartToButton30(this)" id="buy" class="interactionOption">Buy</button>
          <br>
          <button onmouseover="heartToButton30(this)" onmouseover="heartToButton30(this)" id="sell" class="interactionOption" onclick="activeDiv100('sellDialogue1')">Sell</button>
          <br>
          <button onmouseover="heartToButton30(this)" id="talk" class="interactionOption" onclick="div70Menu('talkMenu1', 'talkDialogue', 'firstMenu', 'firstDialogue', 'talkDialogue1')">Talk</button>
          <br>
          <button onmouseover="heartToButton30(this)" id="exit" class="interactionOption" onclick="div70Menu('exitMenu1', 'exitDialogue', 'firstMenu', 'firstDialogue', 'exitDialogue1')">Exit</button>
        </div>
        <div class="interaction" id="rootMenu" style="display: none;">
          <button onmouseover="heartToButton30(this)" id="buy" class="interactionOption">Buy</button>
          <br>
          <button onmouseover="heartToButton30(this)" id="sell" class="interactionOption" onclick="activeDiv100('sellDialogue1')">Sell</button>
          <br>
          <button onmouseover="heartToButton30(this)" id="talk" class="interactionOption" onclick="div70Menu('talkMenu1', 'talkDialogue', 'rootMenu', 'rootDialogue', 'talkDialogue1')">Talk</button>
          <br>
          <button onmouseover="heartToButton30(this)" id="exit" class="interactionOption" onclick="div70Menu('exitMenu1', 'exitDialogue', 'rootMenu', 'rootDialogue', 'exitDialogue1')">Exit</button>
        </div>
        <img class="soul" id="div30Soul" src="assets/sprites/soul.png" style="display: block;">
	<div class="dialogueNOAS" id="talkDialogue" style="display: none;">
	  <p class="dialogueTextNOAS"><typewritten-text nextchar="talkTick()" id="talkDialogue1" letter-interval="50" paused>whadya wans 2 talk abt?</typewritten-text></p>
        </div>
        <div class="dialogueNOAS" id="exitDialogue" style="display: none;">
	  <p class="dialogueTextNOAS"><typewritten-text nextchar="talkTick()" id="exitDialogue1" letter-interval="50" paused>bOI!</typewritten-text></p>
        </div>
        <!--id="money" class="staticText">IDKLOL$</h-->
      </div>
    </feature>
  </body>
</html>
